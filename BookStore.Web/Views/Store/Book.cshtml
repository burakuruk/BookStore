@using BookStore.Web.Services
@model BookDto
@{
    ViewData["Title"] = Model.Title;
}
<div class="container py-4">
    <div class="row">
        <div class="col-md-5">
            <img class="img-fluid rounded shadow" src="@(string.IsNullOrWhiteSpace(Model.ImageUrl) ? "https://picsum.photos/800/600" : Model.ImageUrl)" alt="@Model.Title" />
        </div>
        <div class="col-md-7">
            <h1 class="display-6">@Model.Title</h1>
            <p class="text-muted">@Model.Author</p>
            <p>Kategori: <strong>@(ViewData["CategoryName"] ?? "-")</strong></p>
            <h3 class="text-primary">@Model.Price.ToString("C")</h3>
            <form asp-controller="Cart" asp-action="Add" method="post" class="mt-3">
                <input type="hidden" name="id" value="@Model.Id" />
                <input type="hidden" name="title" value="@Model.Title" />
                <input type="hidden" name="price" value="@Model.Price" />
                <button class="btn btn-lg btn-primary" type="submit">Sepete Ekle</button>
            </form>
            <form asp-controller="Store" asp-action="Favorite" method="post" class="mt-2">
                <input type="hidden" name="bookId" value="@Model.Id" />
                <button class="btn btn-outline-light" type="submit">Favorilere Ekle</button>
            </form>
        </div>
    </div>
    @if (TempData["LastViewedBookId"] is int bid)
    {
        <div class="alert alert-info mt-4">Son görüntülenen kitap ID: @bid</div>
    }
</div>


